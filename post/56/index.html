<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP çŠ¶æ€ç  302,303,307 - Leetao</title>
    <meta name="description" content="







æœ€è¿‘ä¸€ç›´åœ¨çœ‹ã€ŠHTTP The Definitive Guideã€‹,å¯¹æ­¤å¤§å®¶å¯èƒ½æœ‰ç‚¹é™Œç”Ÿï¼Œä½†æ˜¯ä¸€æå®ƒçš„ä¸­æ–‡åç§°é‚£å°±æ˜¯è€³ç†Ÿèƒ½è¯¦äº†,å®ƒçš„ä¸­æ–‡ä¹...">
    
    <link rel="icon" href="/favicon.svg" type="image/x-icon">
    
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
</head>
<body>
    <header>
        <h1><a href="/">Leetao</a></h1>
        
        <p class="site-description">å†™æœ‰è¶£çš„ä»£ç ï¼Œåšæœ‰è¶£çš„äº‹</p>
        
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/tags/">Tags</a></li>
                <li><a href="/about/">About</a></li>
                <li><button class="theme-toggle" id="theme-toggle">
                    <svg class="theme-icon" viewBox="0 0 24 24" width="16" height="16">
                        <path d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/>
                    </svg>
                    Theme
                </button></li>
            </ul>
        </nav>
    </header>
    
    <main>
        <article class="post">
            <h1>HTTP çŠ¶æ€ç  302,303,307</h1>
            <p class="meta">
                By LeetaoGoooo on July 16, 2023
            </p>
            
            <div class="content">
                <p>æœ€è¿‘ä¸€ç›´åœ¨çœ‹ã€ŠHTTP The Definitive Guideã€‹,å¯¹æ­¤å¤§å®¶å¯èƒ½æœ‰ç‚¹é™Œç”Ÿï¼Œä½†æ˜¯ä¸€æå®ƒçš„ä¸­æ–‡åç§°é‚£å°±æ˜¯è€³ç†Ÿèƒ½è¯¦äº†,å®ƒçš„ä¸­æ–‡ä¹¦åæ˜¯ã€Šhttpæƒå¨æŒ‡å—ã€‹.åœ¨çœ‹åˆ°HTTP Messagesè¿™ä¸€ç« Status Codeè¿™ä¸€èŠ‚,å‘ç°çŠ¶æ€ç 302ã€303ã€307è¿™ä¸‰ä¸ªå¾ˆç›¸ä¼¼,ç„¶åå¯¹æ­¤è¿›è¡Œäº†å¯¹æ¯”,ç‰¹æ­¤è®°å½•.</p>

<h2>302 Found</h2>

<blockquote>
<p>This is an example of industry practice contradicting the standard. The HTTP/1.0 specification (RFC 1945) required the client to perform a temporary redirect (the original describing phrase was &ldquo;Moved Temporarily&rdquo;, but popular browsers implemented 302 with the functionality of a 303 See Other.Therefore, HTTP/1.1 added status codes 303 and 307 to distinguish between the two behaviours. However, some Web applications and frameworks use the 302 status code as if it were the 303 â€”â€”[1]</p>
</blockquote>

<p>åœ¨çœ‹ä¸‹ç»´åŸºç™¾ç§‘çš„å®šä¹‰:</p>

<blockquote>
<p>The HTTP response status code 302 Found is a common way of performing URL redirection.
An HTTP response with this status code will additionally provide a URL in the header field location. The user agent (e.g. a web browser) is invited by a response with this code to make a second, otherwise identical, request to the new URL specified in the location field. The HTTP/1.0 specification (RFC 1945) initially defined this code, and gives it the description phrase &ldquo;Moved Temporarily&rdquo;.
Many web browsers implemented this code in a manner that violated this standard, changing the request type of the new request to GET, regardless of the type employed in the original request (e.g. POST).For this reason, HTTP/1.1 (RFC 2616) added the new status codes 303 and 307 to disambiguate between the two behaviours, with 303 mandating the change of request type to GET, and 307 preserving the request type as originally sent. Despite the greater clarity provided by this disambiguation, the 302 code is still employed in web frameworks to preserve compatibility with browsers that do not implement the HTTP/1.1 specification.
As a consequence, the update of RFC 2616 changes the definition to allow user agents to rewrite POST to GET â€”â€”[2]</p>
</blockquote>

<p>ç»“åˆä¸Šé¢ä¸¤ä¸ªæˆ‘ä»¬å¤§è‡´å¯ä»¥æ€»ç»“å‡ºè¿™æ ·ä¸€äº›ç»“è®º:</p>

<p>åœ¨ RFC 1945 ä¸­åˆæ¬¡å®šä¹‰çŠ¶æ€ç 302,å¹¶å°†å…¶æè¿°ä½&rdquo;Moved Temporarily&rdquo;(æš‚æ—¶ç§»åŠ¨).é¢„æœŸå…³äº302çš„ä½¿ç”¨åº”è¯¥å¦‚ä¸‹,å½“ä¸€ä¸ªhttpçš„responseçŠ¶æ€ç ä¸º302çš„æ—¶å€™,å…¶å“åº”å¤´è‚¯å®šå›åŒ…å«ä¸€ä¸ªå¯é€‰çš„URL(å¦‚ä¸‹å›¾).å®¢æˆ·ç«¯é¢„æœŸéœ€è¦æ ¹æ®è¯¥URLè¿›è¡ŒäºŒæ¬¡è¯·æ±‚.æ­£å¸¸æƒ…å†µä¸‹å®¢æˆ·ç«¯çš„è¯·æ±‚æ–¹å¼åº”è¯¥ä¸ä¹‹å‰ä¿æŒä¸€è‡´,ä½†æ˜¯è®¸å¤šWebæµè§ˆå™¨å¹¶æ²¡æœ‰éµå®ˆè¿™ä¸ªè§„å®šï¼Œè€Œæ˜¯ä¸ç®¡åŸå§‹è¯·æ±‚ä½¿ç”¨ä½•ç§ç±»å‹ï¼Œéƒ½å°†æ–°è¯·æ±‚çš„è¯·æ±‚ç±»å‹å˜ä¸ºGET.ç”±äºè¿™ä¸ªåŸå› ,åœ¨HTTP/1.1 (RFC 2616)æ·»åŠ  303 å’Œ 307 è¿™ä¸¤ä¸ªçŠ¶æ€ç ,å…¶ä¸­ 303å¼ºåˆ¶å°†è¯·æ±‚ç±»å‹æ”¹å˜ä¸ºGETï¼Œ307ä¿ç•™åŸå§‹å‘é€çš„è¯·æ±‚ç±»å‹. è€Œ302åˆ™ç”¨æ¥ç»´æŒä¸å°šæœªå®ç°HTTP/1.1è§„èŒƒçš„æµè§ˆå™¨çš„å…¼å®¹æ€§.</p>

<p><img src="http://ww1.sinaimg.cn/large/006wYWbGly1fng94l5z7bj30fr09z3ym.jpg" alt="" /></p>

<h2>303 See Other (since HTTP/1.1)</h2>

<blockquote>
<p>The response to the request can be found under another URI using the GET method. When received in response to a POST (or PUT/DELETE), the client should presume that the server has received the data and should issue a new GET request to the given URI.</p>
</blockquote>

<p>å¯¹äº303æˆ‘ä»¬ä»ä¸Šé¢å°±å¯ä»¥å¾—çŸ¥,äºŒæ¬¡è¯·æ±‚çš„æ–¹å¼ä¸€å®šä¸ºGET,å¦‚æœç¬¬ä¸€æ¬¡è¯·æ±‚ä¸ºå…¶ä»–ç±»å‹çš„è¯,æˆ‘ä»¬é»˜è®¤è®¤ä¸ºå®ƒå·²ç»æ¥å—åˆ°äº†æ•°æ®.è¯¥çŠ¶æ€ç å¯ä»¥ç”¨æ¥ç›¸åº”ä»»ä½•æ–¹å¼çš„HTTPè¯·æ±‚.</p>

<p>å®ƒä¸»è¦ç”¨äºå…è®¸POSTæ“ä½œçš„è¾“å‡ºå°†å®¢æˆ·ç«¯é‡å®šå‘åˆ°é€‰å®šçš„èµ„æºï¼Œå› ä¸ºè¿™æ ·åšæä¾›äº†ä¸POSTå“åº”ç›¸å¯¹åº”çš„ä¿¡æ¯ï¼Œå¹¶ä¸”è¯¥è¡¨å•å¯ä»¥ç‹¬ç«‹äºåŸå§‹è¯·æ±‚å•ç‹¬æ ‡è¯†ã€ä¹¦ç­¾å’Œç¼“å­˜,ä¸ªäººç†è§£æ˜¯æ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬åœ¨ä¸€ä¸ªé¡µé¢è¿›è¡Œäº†postæ“ä½œ,ç„¶åå¾—åˆ°æœåŠ¡å™¨å“åº”åœ¨å½“å‰é¡µé¢è·å–åˆ°ç›¸åº”æ•°æ®,æ˜¾ç„¶è¿™ç§æƒ…å†µä¸‹é¡µé¢æ˜¯æ— æ³•ä¿å­˜ä¹¦ç­¾å’Œç¼“å­˜çš„,ä¸€æ—¦æˆ‘ä»¬é‡æ–°è®¿é—®è¿™ä¸ªé¡µé¢ï¼Œä¹‹å‰çš„æ•°æ®è¿˜æ˜¯éœ€è¦æˆ‘ä»¬é‡æ–°è¯·æ±‚çš„ï¼Œ303åˆ™æ˜¯å°†å“åº”çš„å†…å®¹é‡æ–°å®šå‘åˆ°ä¸€ä¸ªæ–°çš„é¡µé¢,å¹¶ä¸”ä¸‹æ¬¡è®¿é—®è¯¥é¡µé¢çš„æ—¶å€™å“åº”çš„æ•°æ®è¿˜æ˜¯ä»ç„¶å­˜åœ¨çš„ï¼Œæ¯”å¦‚æ¶ˆæ¯ç¡®è®¤é¡µé¢æˆ–ä¸Šä¼ è¿›åº¦é¡µé¢.</p>

<p>å¯¹äº303å“åº”GETæ–¹å¼çš„è¯·æ±‚,æˆ‘ä¸ªäººæ˜¯æœ‰ç‚¹å›°æƒ‘çš„.RFC7321è¡¨è¿°å†…å®¹å¦‚ä¸‹:
&gt;A 303 response to a GET request indicates that the origin server does not have a representation of the target resource that can be transferred by the server over HTTP.  However, the Location field value refers to a resource that is descriptive of the target resource, such that making a retrieval request on that other resource might result in a representation that is useful to recipients without implying that it represents the original target resource.  Note that answers to the questions of what can be represented, what representations are adequate, and what might be a useful description are outside the scope of HTTP. â€”â€”[3]</p>

<p>ç›´è§‚çš„ç¿»è¯‘å¤§æ„å¦‚ä¸‹:
å¯¹GETè¯·æ±‚çš„303å“åº”è¡¨æ˜ï¼ŒæºæœåŠ¡å™¨ä¸å…·æœ‰å¯ç”±æœåŠ¡å™¨é€šè¿‡HTTPä¼ è¾“çš„ç›®æ ‡èµ„æºçš„è¡¨ç¤ºå½¢å¼ã€‚ä½†æ˜¯ï¼ŒLocationå­—æ®µå€¼æ˜¯æŒ‡æè¿°ç›®æ ‡èµ„æºçš„èµ„æºï¼Œå› æ­¤ï¼Œå¯¹è¯¥å…¶ä»–èµ„æºå‘å‡ºæ£€ç´¢è¯·æ±‚å¯èƒ½ä¼šå¯¼è‡´å¯¹æ”¶ä»¶äººæœ‰ç”¨çš„è¡¨ç¤ºï¼Œè€Œä¸ä¼šæš—ç¤ºå®ƒä»£è¡¨åŸå§‹ç›®æ ‡èµ„æºã€‚</p>

<p>æˆ‘çš„ç†è§£æ˜¯å¯¹äºGETæ–¹å¼è¿”å›303ä»£è¡¨,å…¶ç›®æ ‡èµ„æºå¹¶ä¸èƒ½å¾ˆå¥½çš„å€Ÿç”±æœåŠ¡å™¨é€šè¿‡HTTPåè®®å¾ˆå¥½çš„å±•ç¤ºå‡ºæ¥.å“åº”å¤´ä¸­çš„Locationçš„å€¼æŒ‡çš„æ˜¯ä¸€ç§èµ„æº,ç”¨æ¥æ˜¯æè¿°ç›®æ ‡èµ„æºçš„.å¯¹è¯¥èµ„æºè¯·æ±‚å¯èƒ½è·å–åˆ°å¯¹å®¢æˆ·ç«¯æœ‰ç”¨çš„ä¿¡æ¯.</p>

<h2>307 Temporary Redirect (since HTTP/1.1)</h2>

<blockquote>
<p>In this case, the request should be repeated with another URI; however, future requests should still use the original URI. In contrast to how 302 was historically implemented, the request method is not allowed to be changed when reissuing the original request. For example, a POST request should be repeated using another POST request</p>
</blockquote>

<p>307å°±ç›¸å¯¹æ¯•ç«Ÿç®€å•äº›,å¦‚æœè¿”å›çš„çŠ¶æ€ç ä¸º307,åˆ™è¡¨æ˜ä½¿ç”¨headä¸­locationçš„URIè¿›è¡Œå†ä¸€æ¬¡çš„è¯·æ±‚,ä½†æ˜¯ä»¥åçš„è¯·æ±‚ä»ç„¶ä½¿ç”¨åŸæ¥çš„URI.ä¸ä»¥å¾€å®ç°302çš„æ–¹å¼ä¸åŒï¼Œåœ¨é‡æ–°å‘å‡ºåŸå§‹è¯·æ±‚æ—¶ï¼Œä¸å…è®¸æ›´æ”¹è¯·æ±‚æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œåº”è¯¥ä½¿ç”¨å¦ä¸€ä¸ªPOSTè¯·æ±‚é‡å¤POSTè¯·æ±‚.</p>

<h1>å‚è€ƒé“¾æ¥</h1>

<p>[1] <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#3xx_Redirection">3xx_Redirection</a></p>

<p>[2] <a href="https://en.wikipedia.org/wiki/HTTP_302">HTTP_302</a></p>

<p>[3] <a href="https://tools.ietf.org/html/rfc7231#section-6.4.4">303 See Other</a></p>

            </div>
            
            <div class="tags">
                
            </div>
            
            <div class="giscus">
                <script src="https://giscus.app/client.js"
                    data-repo="leetaogoooo/discussion-blog"
                    data-repo-id="R_kgDOIOm9Yg"
                    data-mapping="number"
                    data-term="56"
                    data-reactions-enabled="1"
                    data-emit-metadata="0"
                    data-input-position="top"
                    data-theme="preferred_color_scheme"
                    data-lang="zh-CN"
                    data-loading="lazy"
                    crossorigin="anonymous"
                    async>
                </script>
            </div>
            
            <div class="back-link">
                <a href="/">&larr; Back to posts</a>
            </div>
        </article>
    </main>
    
    <footer>
        <p>&copy; Leetao. All rights reserved.</p>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="/js/theme-toggle.js"></script>
    <script>
        
        document.addEventListener('DOMContentLoaded', function() {
            
            const pres = document.querySelectorAll('pre');
            pres.forEach(pre => {
                
                const button = document.createElement('button');
                button.className = 'copy-button';
                button.textContent = 'Copy';
                
                
                pre.appendChild(button);
                
                
                button.addEventListener('click', () => {
                    
                    const code = pre.querySelector('code');
                    const text = code ? code.textContent : pre.textContent;
                    
                    
                    navigator.clipboard.writeText(text).then(() => {
                        
                        button.textContent = 'Copied!';
                        button.classList.add('copied');
                        
                        
                        setTimeout(() => {
                            button.textContent = 'Copy';
                            button.classList.remove('copied');
                        }, 3000);
                    }).catch(err => {
                        console.error('Failed to copy: ', err);
                    });
                });
            });
        });
    </script>
</body>
</html>