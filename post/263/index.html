<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Full-Screen Issue With .Sheet - Leetao</title>
    <meta name="description" content="# å‰è¨€

ä¹‹å‰çš„ PromptHub æœ‰ä¸ª Setting é¡µé¢ï¼Œç”¨æ¥å±•ç¤ºè‡ªå®šä¹‰é…ç½®çš„ï¼Œé¢„æœŸæ˜¯ç‚¹å‡»é…ç½®æŒ‰é’®ï¼Œç„¶åå¸Œæœ› Setting é¡µé¢å¯ä»¥å®Œæ•´å±...">
    
    <link rel="icon" href="/favicon.svg" type="image/x-icon">
    
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/chroma.css">
    <link rel="alternate" type="application/rss+xml" href="/rss.xml" title="RSS Feed">
</head>
<body class="container">
    <header class="site-header">
        <div class="site-header__left">
            <a href="/" class="site-title">Leetao</a>
            
            <p class="site-description">å†™æœ‰è¶£çš„ä»£ç ï¼Œåšæœ‰è¶£çš„äº‹</p>
            
        </div>
        <div class="site-header__right">
            <nav class="site-nav">
                <a href="/">Home</a>
                <a href="/tags/">Tags</a>
                <a href="/about/">About</a>
                <a class="feed-link" href="/rss.xml" title="RSS Feed">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 11a9 9 0 0 1 9 9"></path>
                        <path d="M4 4a16 16 0 0 1 16 16"></path>
                        <circle cx="5" cy="19" r="1"></circle>
                    </svg>
                </a>
                <button class="theme-toggle" id="theme-toggle">
                    <svg class="theme-icon" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
            </nav>
        </div>
    </header>
    
    <main>
        <article class="post">
            <header class="post-header">
                <h1 class="post-title">Full-Screen Issue With .Sheet</h1>
                <p class="post-meta">
                    By LeetaoGoooo on April 20, 2025
                </p>
            </header>
            
            <div class="post-content">
                <h1 id="å‰è¨€">å‰è¨€</h1>

<p>ä¹‹å‰çš„ PromptHub æœ‰ä¸ª Setting é¡µé¢ï¼Œç”¨æ¥å±•ç¤ºè‡ªå®šä¹‰é…ç½®çš„ï¼Œé¢„æœŸæ˜¯ç‚¹å‡»é…ç½®æŒ‰é’®ï¼Œç„¶åå¸Œæœ› Setting é¡µé¢å¯ä»¥å®Œæ•´å±•ç¤º</p>

<p><img width="613" alt="é¢„æœŸæ•ˆæœ" src="https://github.com/user-attachments/assets/099c79b2-aa10-402a-baee-82d6b5edb9ff" /></p>

<p>ä½†æ˜¯å®é™…çš„å±•ç¤ºæ•ˆæœæ˜¯ï¼š</p>

<p><img width="525" alt="å®é™…æ•ˆæœ" src="https://github.com/user-attachments/assets/70a4f3cb-1f8c-49d5-9ef9-be74e15ef323" /></p>

<p>æ ¸å¿ƒä»£ç çš„æ˜¯å¦‚ä¸‹ï¼š</p>
<pre class="chroma"><code><span class="line"><span class="cl"><span class="p">.</span><span class="n">sheet</span><span class="p">(</span><span class="n">isPresented</span><span class="p">:</span> <span class="err">$</span><span class="n">showingSettings</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="n">SettingsView</span><span class="p">(</span><span class="n">isPresented</span><span class="p">:</span> <span class="err">$</span><span class="n">showingSettings</span><span class="p">,</span> <span class="n">isComeFromSettingPage</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="n">frame</span><span class="p">(</span><span class="n">maxWidth</span><span class="p">:</span> <span class="p">.</span><span class="n">infinity</span><span class="p">,</span> <span class="n">maxHeight</span><span class="p">:</span> <span class="p">.</span><span class="n">infinity</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>éšåå°±æ˜¯ Debug ä¹‹è·¯</p>

<h1 id="sheet-frame">Sheet &amp;&amp; Frame</h1>

<p>ä»å®é™…æ•ˆæœæ¥çœ‹ï¼Œå¾ˆæ˜æ˜¾<strong>.frame(maxWidth: .infinity, maxHeight: .infinity)</strong>å¹¶æ²¡æœ‰ç”Ÿæ•ˆã€‚ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹åˆ°æ¶‰åŠåˆ°ä¸¤ä¸ª modifier:</p>

<ol>
<li>sheet</li>
<li>frame
<!-- --></li>
</ol>

<p>æ‰€ä»¥éœ€è¦å°†è¿™ä¸¤ä¸ª modifier è¿›è¡Œé€ä¸ªæ‹†è§£ï¼Œä»¥åŠç»„åˆä»è€Œè§£é‡Šç›®å‰çš„ç°è±¡.</p>

<h2 id="frame">Frame</h2>

<p>å…ˆè¯´<strong>frame(maxWidth: .infinity, maxHeight: .infinity)</strong>è¿™è¡Œä»£ç åªæ˜¯ä¸€ä¸ªå€¾å‘æ€§ï¼Œå‘Šè¯‰çˆ¶è§†å›¾åœ¨å…è®¸çš„æƒ…å†µä¸‹å°½å¯èƒ½çš„å æ®æœ€å¤§çš„è§†å›¾å°ºå¯¸ï¼Œè¿™ç§çº¦æŸå…¶å®æ˜¯æœ€å°çš„ï¼ŒåŸºæœ¬ä¸Šå®Œå…¨ç”±çˆ¶è§†å›¾åŸæœ¬çš„æœºåˆ¶å†³å®šã€‚åœ¨å½“å‰åœºæ™¯ä¸‹ï¼Œå®ƒçš„çˆ¶è§†å›¾æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ sheet  æ‰€ä»¥å‰©ä¸‹è¦æ¢³ç†çš„æ˜¯ï¼Œsheet çš„è§†å›¾æœºåˆ¶é—®é¢˜äº†ã€‚</p>

<h2 id="sheet">Sheet</h2>

<p>å®˜æ–¹æ–‡æ¡£é“¾æ¥ï¼š<a href="https://developer.apple.com/documentation/swiftui/view/sheet(ispresented:ondismiss:content:">sheet(isPresented:onDismiss:content:)</a>)</p>
<pre class="chroma"><code><span class="line"><span class="cl">In vertically compact environments, such as iPhone in landscape orientation, a sheet presentation automatically adapts to appear as a full-screen cover.
</span></span></code></pre>
<p>å³åœ¨å‚ç›´ç©ºé—´å—é™çš„ç¯å¢ƒä¸­ï¼Œä¾‹å¦‚æ¨ªå‘æ¨¡å¼ä¸‹çš„ iPhoneï¼Œsheet è§†å›¾çš„å‘ˆç°æ–¹å¼ä¼šè‡ªåŠ¨è°ƒæ•´ä¸ºå…¨å±è¦†ç›–ã€‚ä¸è¿‡æˆ‘ä»¬è¿™é‡Œæ˜¯åœ¨ macOS ä¸‹ï¼ŒSheet é»˜è®¤æƒ…å†µä¸‹çš„å°ºå¯¸å¤§å°å®Œå…¨ç”±<strong>å†…å®¹å°ºå¯¸</strong>å†³å®šï¼Œå¦‚æœæœ‰<strong>ç†æƒ³å°ºå¯¸</strong>åˆ™ç”±å…¶å†³å®šã€‚</p>

<p>å›åˆ°ç¤ºä¾‹ä¸­ï¼ŒSettingsView å¹¶æ²¡æœ‰è®¾ç½®<strong>idealWidth</strong>å’Œ<strong>idealHeight</strong>, æ‰€ä»¥æœ€ç»ˆè¿˜æ˜¯ç”±SettingsView çš„å†…å®¹å°ºå¯¸å†³å®šã€‚æ‰€ä»¥è¿™é‡Œé—®é¢˜æœ€ç»ˆå›åˆ°äº†<strong>SettingsView</strong>è§†å›¾é—®é¢˜</p>

<p><img width="929" alt="Screenshot 2025-04-20 at 15 09 45" src="https://github.com/user-attachments/assets/d1ec04ee-d99e-4f72-965a-9fb3b88513f5" /></p>

<h1 id="settingsview">SettingsView</h1>
<pre class="chroma"><code><span class="line"><span class="cl">NavigationView {
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">}
</span></span></code></pre>
<p><img width="978" alt="NavigationView" src="https://github.com/user-attachments/assets/5fbaa881-ea3b-4982-b6b4-5f16fac1aa33" /></p>

<p>NavigationView åœ¨ macOS 10.15â€“15.4 å·²ç»è¢«åºŸå¼ƒäº†ï¼Œè¿™å°±å¯èƒ½å‡ºç°é—®é¢˜çš„åŸå› å§ï¼Œç”šè‡³æœ‰å»ºè®®æŠŠ  NavigationView æ”¾åˆ° sheet ä¸‹å°±å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œå¹¶æ²¡æœ‰å»å°è¯•ã€‚</p>
<pre class="chroma"><code><span class="line"><span class="cl"><span class="p">.</span><span class="n">sheet</span><span class="p">(</span><span class="n">isPresented</span><span class="p">:</span> <span class="err">$</span><span class="n">showSheet</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">NavigationView</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="err">â€¦</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>å½“åˆ‡æ¢åˆ°<strong>NavigationSplitView</strong>åŸºæœ¬èƒ½å¤Ÿç¬¦åˆé¢„æœŸçš„å·¥ä½œï¼Œä½†æ˜¯ç”±äº sheet çš„åŸå› ä¼šæ ¹æ®å†…å®¹å°ºå¯¸å»å˜åŒ–å¤§å°ï¼Œåœ¨ SettingsView é‡Œä¿©ä¸ªæ ‡ç­¾é¡µå¤§å°ä¸ä¸€è‡´ï¼Œæ‰€ä»¥çª—å£å¤§å°ä¼šåœ¨åˆ‡æ¢çš„æ—¶å€™å˜åŒ–ï¼Œä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œæœ€ç»ˆä½¿ç”¨äº†å¦å¤–ä¸€ç§æ–¹æ³•ï¼Œè¿™éƒ½æ˜¯åè¯äº†ã€‚</p>

<h1 id="æœ€å">æœ€å</h1>

<p>å’Œæµç¨‹å›¾è¯´çš„é‚£æ ·ï¼Œå¦‚æœ Frame æ˜¯å›ºå®šå°ºå¯¸çš„è¯ï¼Œå…¶å®ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸å·¥ä½œçš„ï¼Œä½†æ˜¯å›ºå®šå°ºå¯¸å¹¶ä¸çµæ´»ï¼Œæ‰€ä»¥åœ¨å®é™…ä¼‘ä¿®å¤è¿™ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰å»è€ƒè™‘ã€‚</p>

<h1 id="å‚è€ƒæ–‡æ¡£">å‚è€ƒæ–‡æ¡£</h1>

<ol>
<li><a href="https://developer.apple.com/documentation/swiftui/navigationview">NavigationView</a></li>
<li><a href="https://developer.apple.com/documentation/swiftui/navigationsplitview">Navigationsplitview</a></li>
<li><a href="https://developer.apple.com/documentation/swiftui/view/sheet(ispresented:ondismiss:content:">sheet(isPresented:onDismiss:content:)</a>)</li>
</ol>

            </div>
            
            <div class="tag-list">
                
                <a href="/tags/swiftui/" class="tag">swiftui</a>
                
                <a href="/tags/swift/" class="tag">swift</a>
                
            </div>
            
            <div class="giscus">
                <script src="https://giscus.app/client.js"
                    data-repo="leetaogoooo/discussion-blog"
                    data-repo-id="R_kgDOIOm9Yg"
                    data-mapping="number"
                    data-term="263"
                    data-reactions-enabled="1"
                    data-emit-metadata="0"
                    data-input-position="top"
                    data-theme="preferred_color_scheme"
                    data-lang="en"
                    crossorigin="anonymous"
                    async>
                </script>
            </div>
            
        </article>
        
        <nav class="post-navigation">
            
            <a href="/post/262/" class="nav-btn prev-post">
                &larr; libreoffice-convert may not work as expected in Docker
            </a>
            
            
            
            <a href="/post/264/" class="nav-btn next-post">
                Flutter WidgetsBindingObserver è¯¦è§£ &rarr;
            </a>
            
        </nav>
    </main>
    
    <footer>
        <p>&copy; Leetao. All rights reserved.</p>
    </footer>
    
    <script src="/js/theme-toggle.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            const giscusScript = document.querySelector('script[src^="https://giscus.app/client.js"]');
            const setGiscusTheme = (theme) => {
                if (giscusScript) {
                    const message = { setConfig: { theme: theme } };
                    const iframe = document.querySelector('.giscus-frame');
                    if (iframe) {
                        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
                    }
                }
            };
            const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
            setGiscusTheme(currentTheme);
            new MutationObserver((mutations) => {
                mutations.forEach(mutation => {
                    if (mutation.attributeName === 'data-theme') {
                        setGiscusTheme(mutation.target.getAttribute('data-theme'));
                    }
                });
            }).observe(document.documentElement, { attributes: true });


            
            function initCopyButtons() {
                document.querySelectorAll('pre.chroma').forEach((pre) => {
                    
                    const existingButton = pre.querySelector('.copy-button');
                    if (existingButton) {
                        existingButton.remove();
                    }
                    
                    const button = document.createElement('button');
                    button.className = 'copy-button';
                    button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>';
                    
                    pre.style.position = 'relative';
                    pre.appendChild(button);
                    
                    button.addEventListener('click', () => {
                        const code = pre.querySelector('code');
                        if (code) {
                            navigator.clipboard.writeText(code.innerText).then(() => {
                                button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"></path></svg>';
                                setTimeout(() => {
                                    button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>';
                                }, 2000);
                            });
                        }
                    });
                });
            }
            
            
            initCopyButtons();
            
            
            document.addEventListener('themeChanged', () => {
                initCopyButtons();
            });
        });
    </script>
</body>
</html>
    </script>
</body>
</html>