<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dict é”®å€¼å’Œ Number çš„æ•…äº‹ - Leetao</title>
    <meta name="description" content="





# å‰è¨€

å­—å…¸(Dict)ï¼Œåœ¨å¤§å®¶å†™ Python ç¨‹åºä¸­ï¼Œè‚¯å®šä¼šç»å¸¸ç”¨åˆ°å®ƒï¼Œä½†æ˜¯å®ƒåœ¨å®˜æ–¹çš„æ–‡æ¡£æœ‰ä¸€æ®µè¯ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æ³¨æ...">
    
    <link rel="icon" href="/favicon.svg" type="image/x-icon">
    
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/chroma.css">
    <link rel="alternate" type="application/rss+xml" href="/rss.xml" title="RSS Feed">
</head>
<body class="container">
    <header class="site-header">
        <div class="site-header__left">
            <a href="/" class="site-title">Leetao</a>
            
            <p class="site-description">å†™æœ‰è¶£çš„ä»£ç ï¼Œåšæœ‰è¶£çš„äº‹</p>
            
        </div>
        <div class="site-header__right">
            <nav class="site-nav">
                <a href="/">Home</a>
                <a href="/tags/">Tags</a>
                <a href="/about/">About</a>
                <a class="feed-link" href="/rss.xml" title="RSS Feed">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 11a9 9 0 0 1 9 9"></path>
                        <path d="M4 4a16 16 0 0 1 16 16"></path>
                        <circle cx="5" cy="19" r="1"></circle>
                    </svg>
                </a>
                <button class="theme-toggle" id="theme-toggle">
                    <svg class="theme-icon" viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
            </nav>
        </div>
    </header>
    
    <main>
        <article class="post">
            <header class="post-header">
                <h1 class="post-title">Dict é”®å€¼å’Œ Number çš„æ•…äº‹</h1>
                <p class="post-meta">
                    By LeetaoGoooo on July 16, 2023
                </p>
            </header>
            
            <div class="post-content">
                <h1 id="å‰è¨€">å‰è¨€</h1>

<p>å­—å…¸(Dict)ï¼Œåœ¨å¤§å®¶å†™ Python ç¨‹åºä¸­ï¼Œè‚¯å®šä¼šç»å¸¸ç”¨åˆ°å®ƒï¼Œä½†æ˜¯å®ƒåœ¨å®˜æ–¹çš„æ–‡æ¡£æœ‰ä¸€æ®µè¯ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æ³¨æ„åˆ°ï¼Œå®˜æ–¹åŸæ–‡æ˜¯è¿™æ ·çš„</p>

<blockquote>
<p>A dictionaryâ€™s keys are almost arbitrary values. Values that are not hashable, that is, values containing lists, dictionaries or other mutable types (that are compared by value rather than by object identity) may not be used as keys. Numeric types used for keys obey the normal rules for numeric comparison: if two numbers compare equal (such as 1 and 1.0) then they can be used interchangeably to index the same dictionary entry. (Note however, that since computers store floating-point numbers as approximations it is usually unwise to use them as dictionary keys.)</p>
</blockquote>

<p>å¦‚æœä½ çœ‹åˆ°è¿™é‡Œå·²ç»æ˜ç™½äº†æˆ‘æƒ³è¯´çš„å†…å®¹çš„è¯ï¼Œé‚£ä¹ˆæ­å–œä½ å¯ä»¥èŠ‚çº¦å‡ åˆ†é’Ÿçš„æ—¶é—´äº†ï¼Œä¸éœ€è¦é˜…è¯»æœ¬ç¯‡æ–‡ç« äº†ï¼Œæ²¡çœ‹æ˜ç™½çš„å°ä¼™ä¼´ï¼Œå¯ä»¥æ¥ç€çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p>

<h1 id="ä¾‹å­">ä¾‹å­</h1>
<pre class="chroma"><code><span class="line"><span class="cl">&gt;&gt;&gt; <span class="nv">a</span> <span class="o">=</span> <span class="o">{</span><span class="o">}</span>
</span></span><span class="line"><span class="cl">&gt;&gt;&gt; a<span class="o">[</span>1.0<span class="o">]</span><span class="o">=</span><span class="s2">&#34;å…ƒæ—¦å¿«ä¹&#34;</span>
</span></span><span class="line"><span class="cl">&gt;&gt;&gt; a<span class="o">[</span>1<span class="o">]</span> <span class="o">=</span> <span class="s2">&#34;æ–°å¹´å¿«ä¹&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># a[1.0] = ?</span>
</span></span></code></pre>
<p>é—®é¢˜æ¥äº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬è¯•ç€è¾“å‡º <strong>a[1.0]</strong> ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ</p>

<p><img src="https://t1.picb.cc/uploads/2018/12/31/Jo1ch0.png" alt="" /></p>

<h1 id="åŸå› ">åŸå› </h1>

<p>æ˜¯ä¸æ˜¯è§‰å¾—å¾ˆç¥å¥‡ï¼Ÿè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿåˆ’é‡ç‚¹çš„æ—¶å€™åˆ°äº†,æ³¨æ„ä¸Šé¢çš„å®˜æ–¹æ–‡æ¡£ä¸­çš„ä¸€å¥è¯ã€‚</p>

<blockquote>
<p>Numeric types used for keys obey the normal rules for numeric comparison: if two numbers compare equal (such as 1 and 1.0) then they can be used interchangeably to index the same dictionary entry.</p>
</blockquote>

<p>å…¶æ„æ€å¾ˆç®€å•ï¼Œç”¨äºé”®æ•°å­—ç±»å‹éµå¾ªæ­£å¸¸æ•°å€¼æ¯”è¾ƒè§„åˆ™ï¼šå¦‚æœä¸¤ä¸ªæ•°æ¯”è¾ƒç›¸ç­‰ï¼ˆå¦‚1å’Œ1.0ï¼‰ï¼Œé‚£ä¹ˆä»–ä»¬å¯ä»¥äº’æ¢ä½¿ç”¨ï¼Œä»¥ç´¢å¼•ç›¸åŒçš„å­—å…¸æ¡ç›®ã€‚</p>

<p>ç­‰ç­‰ï¼Œè¿™æ˜¯ä¸æ˜¯å°±æ„å‘³ç€ <strong>1 == 1.0 ?</strong>,çœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿåˆ«ç€æ€¥ï¼Œçœ‹ä¸‹å»ã€‚</p>
<pre class="chroma"><code><span class="line"><span class="cl">&gt;&gt;&gt; <span class="nv">1</span> <span class="o">=</span><span class="o">=</span> 1.0
</span></span><span class="line"><span class="cl">True
</span></span><span class="line"><span class="cl">&gt;&gt;&gt; hash<span class="o">(</span>1<span class="o">)</span> <span class="o">=</span><span class="o">=</span> hash<span class="o">(</span>1.0<span class="o">)</span>
</span></span><span class="line"><span class="cl">True
</span></span></code></pre>
<p>æ‰€ä»¥è¿™å°±ä¸éš¾ç†è§£ï¼Œä¸ºä»€ä¹ˆ a[1.0] çš„å€¼ï¼Œè¢«åé¢çš„ a[1] è¦†ç›–äº†ã€‚æœ€åå®˜æ–¹ä¹Ÿå»ºè®®ï¼Œä¸è¦ç”¨ä»–ä»¬ä½œä¸ºå­—å…¸çš„é”®å€¼ã€‚</p>

<h1 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</h1>

<p><a href="https://docs.python.org/3.6/library/stdtypes.html#mapping-types-dict">Mapping Types -- dict</a></p>

<p><a href="https://stackoverflow.com/questions/32209155/why-can-a-floating-point-dictionary-key-overwrite-an-integer-key-with-the-same-v/32211042#32211042">Why can a floating point dictionary key overwrite an integer key with the same value?</a></p>

            </div>
            
            <div class="tag-list">
                
            </div>
            
            <div class="giscus">
                <script src="https://giscus.app/client.js"
                    data-repo="leetaogoooo/discussion-blog"
                    data-repo-id="R_kgDOIOm9Yg"
                    data-mapping="number"
                    data-term="36"
                    data-reactions-enabled="1"
                    data-emit-metadata="0"
                    data-input-position="top"
                    data-theme="preferred_color_scheme"
                    data-lang="en"
                    crossorigin="anonymous"
                    async>
                </script>
            </div>
            
        </article>
        
        <nav class="post-navigation">
            
            <a href="/post/35/" class="nav-btn prev-post">
                &larr; Courseraå¦‚ä½•ä¸Šå…è´¹è¯¾ç¨‹
            </a>
            
            
            
            <a href="/post/37/" class="nav-btn next-post">
                Distribute Candies &rarr;
            </a>
            
        </nav>
    </main>
    
    <footer>
        <p>&copy; Leetao. All rights reserved.</p>
    </footer>
    
    <script src="/js/theme-toggle.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            const giscusScript = document.querySelector('script[src^="https://giscus.app/client.js"]');
            const setGiscusTheme = (theme) => {
                if (giscusScript) {
                    const message = { setConfig: { theme: theme } };
                    const iframe = document.querySelector('.giscus-frame');
                    if (iframe) {
                        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
                    }
                }
            };
            const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
            setGiscusTheme(currentTheme);
            new MutationObserver((mutations) => {
                mutations.forEach(mutation => {
                    if (mutation.attributeName === 'data-theme') {
                        setGiscusTheme(mutation.target.getAttribute('data-theme'));
                    }
                });
            }).observe(document.documentElement, { attributes: true });


            
            function initCopyButtons() {
                document.querySelectorAll('pre.chroma').forEach((pre) => {
                    
                    const existingButton = pre.querySelector('.copy-button');
                    if (existingButton) {
                        existingButton.remove();
                    }
                    
                    const button = document.createElement('button');
                    button.className = 'copy-button';
                    button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>';
                    
                    pre.style.position = 'relative';
                    pre.appendChild(button);
                    
                    button.addEventListener('click', () => {
                        const code = pre.querySelector('code');
                        if (code) {
                            navigator.clipboard.writeText(code.innerText).then(() => {
                                button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"></path></svg>';
                                setTimeout(() => {
                                    button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>';
                                }, 2000);
                            });
                        }
                    });
                });
            }
            
            
            initCopyButtons();
            
            
            document.addEventListener('themeChanged', () => {
                initCopyButtons();
            });
        });
    </script>
</body>
</html>
    </script>
</body>
</html>