<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dict é”®å€¼å’Œ Number çš„æ•…äº‹ - Leetao</title>
    <meta name="description" content="





# å‰è¨€

å­—å…¸(Dict)ï¼Œåœ¨å¤§å®¶å†™ Python ç¨‹åºä¸­ï¼Œè‚¯å®šä¼šç»å¸¸ç”¨åˆ°å®ƒï¼Œä½†æ˜¯å®ƒåœ¨å®˜æ–¹çš„æ–‡æ¡£æœ‰ä¸€æ®µè¯ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æ³¨æ...">
    
    <link rel="icon" href="/favicon.svg" type="image/x-icon">
    
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
</head>
<body>
    <header>
        <h1><a href="/">Leetao</a></h1>
        
        <p class="site-description">å†™æœ‰è¶£çš„ä»£ç ï¼Œåšæœ‰è¶£çš„äº‹</p>
        
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/tags/">Tags</a></li>
                <li><a href="/about/">About</a></li>
                <li><button class="theme-toggle" id="theme-toggle">
                    <svg class="theme-icon" viewBox="0 0 24 24" width="16" height="16">
                        <path d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/>
                    </svg>
                    Theme
                </button></li>
            </ul>
        </nav>
    </header>
    
    <main>
        <article class="post">
            <h1>Dict é”®å€¼å’Œ Number çš„æ•…äº‹</h1>
            <p class="meta">
                By LeetaoGoooo on July 16, 2023
            </p>
            
            <div class="content">
                <h1>å‰è¨€</h1>

<p>å­—å…¸(Dict)ï¼Œåœ¨å¤§å®¶å†™ Python ç¨‹åºä¸­ï¼Œè‚¯å®šä¼šç»å¸¸ç”¨åˆ°å®ƒï¼Œä½†æ˜¯å®ƒåœ¨å®˜æ–¹çš„æ–‡æ¡£æœ‰ä¸€æ®µè¯ï¼Œä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æ³¨æ„åˆ°ï¼Œå®˜æ–¹åŸæ–‡æ˜¯è¿™æ ·çš„</p>

<blockquote>
<p>A dictionaryâ€™s keys are almost arbitrary values. Values that are not hashable, that is, values containing lists, dictionaries or other mutable types (that are compared by value rather than by object identity) may not be used as keys. Numeric types used for keys obey the normal rules for numeric comparison: if two numbers compare equal (such as 1 and 1.0) then they can be used interchangeably to index the same dictionary entry. (Note however, that since computers store floating-point numbers as approximations it is usually unwise to use them as dictionary keys.)</p>
</blockquote>

<p>å¦‚æœä½ çœ‹åˆ°è¿™é‡Œå·²ç»æ˜ç™½äº†æˆ‘æƒ³è¯´çš„å†…å®¹çš„è¯ï¼Œé‚£ä¹ˆæ­å–œä½ å¯ä»¥èŠ‚çº¦å‡ åˆ†é’Ÿçš„æ—¶é—´äº†ï¼Œä¸éœ€è¦é˜…è¯»æœ¬ç¯‡æ–‡ç« äº†ï¼Œæ²¡çœ‹æ˜ç™½çš„å°ä¼™ä¼´ï¼Œå¯ä»¥æ¥ç€çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p>

<h1>ä¾‹å­</h1>

<pre><code class="language-bash">&gt;&gt;&gt; a = {}
&gt;&gt;&gt; a[1.0]=&quot;å…ƒæ—¦å¿«ä¹&quot;
&gt;&gt;&gt; a[1] = &quot;æ–°å¹´å¿«ä¹&quot;
# a[1.0] = ?
</code></pre>

<p>é—®é¢˜æ¥äº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬è¯•ç€è¾“å‡º <strong>a[1.0]</strong> ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ</p>

<p><img src="https://t1.picb.cc/uploads/2018/12/31/Jo1ch0.png" alt="" /></p>

<h1>åŸå› </h1>

<p>æ˜¯ä¸æ˜¯è§‰å¾—å¾ˆç¥å¥‡ï¼Ÿè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿåˆ’é‡ç‚¹çš„æ—¶å€™åˆ°äº†,æ³¨æ„ä¸Šé¢çš„å®˜æ–¹æ–‡æ¡£ä¸­çš„ä¸€å¥è¯ã€‚</p>

<blockquote>
<p>Numeric types used for keys obey the normal rules for numeric comparison: if two numbers compare equal (such as 1 and 1.0) then they can be used interchangeably to index the same dictionary entry.</p>
</blockquote>

<p>å…¶æ„æ€å¾ˆç®€å•ï¼Œç”¨äºé”®æ•°å­—ç±»å‹éµå¾ªæ­£å¸¸æ•°å€¼æ¯”è¾ƒè§„åˆ™ï¼šå¦‚æœä¸¤ä¸ªæ•°æ¯”è¾ƒç›¸ç­‰ï¼ˆå¦‚1å’Œ1.0ï¼‰ï¼Œé‚£ä¹ˆä»–ä»¬å¯ä»¥äº’æ¢ä½¿ç”¨ï¼Œä»¥ç´¢å¼•ç›¸åŒçš„å­—å…¸æ¡ç›®ã€‚</p>

<p>ç­‰ç­‰ï¼Œè¿™æ˜¯ä¸æ˜¯å°±æ„å‘³ç€ <strong>1 == 1.0 ?</strong>,çœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿåˆ«ç€æ€¥ï¼Œçœ‹ä¸‹å»ã€‚</p>

<pre><code class="language-bash">&gt;&gt;&gt; 1 == 1.0
True
&gt;&gt;&gt; hash(1) == hash(1.0)
True
</code></pre>

<p>æ‰€ä»¥è¿™å°±ä¸éš¾ç†è§£ï¼Œä¸ºä»€ä¹ˆ a[1.0] çš„å€¼ï¼Œè¢«åé¢çš„ a[1] è¦†ç›–äº†ã€‚æœ€åå®˜æ–¹ä¹Ÿå»ºè®®ï¼Œä¸è¦ç”¨ä»–ä»¬ä½œä¸ºå­—å…¸çš„é”®å€¼ã€‚</p>

<h1>å‚è€ƒé“¾æ¥</h1>

<p><a href="https://docs.python.org/3.6/library/stdtypes.html#mapping-types-dict">Mapping Types &ndash; dict</a></p>

<p><a href="https://stackoverflow.com/questions/32209155/why-can-a-floating-point-dictionary-key-overwrite-an-integer-key-with-the-same-v/32211042#32211042">Why can a floating point dictionary key overwrite an integer key with the same value?</a></p>

            </div>
            
            <div class="tags">
                
            </div>
            
            <div class="giscus">
                <script src="https://giscus.app/client.js"
                    data-repo="leetaogoooo/discussion-blog"
                    data-repo-id="R_kgDOIOm9Yg"
                    data-mapping="number"
                    data-term="36"
                    data-reactions-enabled="1"
                    data-emit-metadata="0"
                    data-input-position="top"
                    data-theme="preferred_color_scheme"
                    data-lang="zh-CN"
                    data-loading="lazy"
                    crossorigin="anonymous"
                    async>
                </script>
            </div>
            
            <div class="back-link">
                <a href="/">&larr; Back to posts</a>
            </div>
        </article>
    </main>
    
    <footer>
        <p>&copy; Leetao. All rights reserved.</p>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="/js/theme-toggle.js"></script>
    <script>
        
        document.addEventListener('DOMContentLoaded', function() {
            
            const pres = document.querySelectorAll('pre');
            pres.forEach(pre => {
                
                const button = document.createElement('button');
                button.className = 'copy-button';
                button.textContent = 'Copy';
                
                
                pre.appendChild(button);
                
                
                button.addEventListener('click', () => {
                    
                    const code = pre.querySelector('code');
                    const text = code ? code.textContent : pre.textContent;
                    
                    
                    navigator.clipboard.writeText(text).then(() => {
                        
                        button.textContent = 'Copied!';
                        button.classList.add('copied');
                        
                        
                        setTimeout(() => {
                            button.textContent = 'Copy';
                            button.classList.remove('copied');
                        }, 3000);
                    }).catch(err => {
                        console.error('Failed to copy: ', err);
                    });
                });
            });
        });
    </script>
</body>
</html>